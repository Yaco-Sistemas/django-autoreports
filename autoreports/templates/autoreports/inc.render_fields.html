{% load i18n %}

<table class="fields">
{% for field in fields %}
    <tr class="{{ field.type }} fields">
        {% if columns.fields %}<td><label for="id_{{ field.name }}">
            {% if field.app_label and field.module_name %}
                <a href="{{ field.app_label }}/{{field.module_name}}">
            {% endif %}
                    {{ field.verbose_name }}
            {% if field.app_label and field.module_name %}
                </a>
            {% endif %}
        </label></td>{% endif %}
        {% if columns.filter %}<td>{% with "filter" as prefix %}{% include "autoreports/inc.render_choices.html" %}{% endwith %}</td>{% endif %}
        {% if columns.display %}<td><input type="checkbox" id="id_display_{{ field.name }}" name="display_{{ field.name }}"> {% trans "Select to display" %}</td>{% endif %}
        {% if columns.help_text %}<td>{{ field.field.help_text|safe }}</td>{% endif %}
        {% if columns.advanced_options %}
            <td class="advanced_options">
                {% if field.advanced_options %}
                <a href="#" class="advanced_options">{% trans "Advanced Options" %}</a>
                <div class="advanced_options">
                    {% for choice in field.choices %}
                        <ul>{{ choice.1 }}
                            <li><a href="#{{ field.name }}{% if  choice.0 %}__{{ choice.0 }}{% endif %}" class="change_widget">{% trans "Change the widget" %}</a>
                            <div class="change_widget">
                            </div></li>
                            <li><a href="#{{ field.name }}{% if  choice.0 %}__{{ choice.0 }}{% endif %}" class="default_value">{% trans "Set a default value" %}</a>
                            <div class="default_value">
                            </div></li>
                        </ul>
                    {% endfor %}
                </div>
                {% else %}
                    {% trans "It haven't a advanced options" %}
                {% endif %}
            </td>
        {% endif %}
    </tr>
{% endfor %}
</table>